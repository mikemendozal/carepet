{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"txtid\"];\nconst _c1 = [\"txtCedula\"];\nconst _c2 = [\"txtNombre\"];\nconst _c3 = [\"txtEdad\"];\nconst _c4 = [\"txtTelefono\"];\nconst _c5 = [\"txtEmail\"];\nconst _c6 = [\"txtPassword\"];\nexport let AdminUserComponent = /*#__PURE__*/(() => {\n  class AdminUserComponent {\n    constructor(_serviceUser, _route) {\n      this._serviceUser = _serviceUser;\n      this._route = _route;\n      this.userSession = 0;\n      //this. userSession = +this._route.snapshot.paramMap.get('id')! ;\n    }\n    ngOnInit() {\n      this.inicializar();\n      this.buscarUsuario();\n      localStorage.removeItem(\"usuario\");\n      localStorage.setItem(\"delevery\", \"0\");\n      localStorage.setItem(\"servicios\", \"0\");\n      localStorage.setItem(\"productos\", \"0\");\n      localStorage.setItem(\"citas\", \"0\");\n      localStorage.setItem(\"citasA\", \"0\");\n    }\n    get userId() {\n      return this._serviceUser.getUserSession;\n    }\n    buscarUsuario() {\n      console.log(this.userSession);\n      var valor = localStorage.getItem(\"id\");\n      this._serviceUser.searchUser(valor).subscribe(response => {\n        let user = {\n          personid: response['personId'],\n          personCedula: response['personCedula'],\n          personPhone: response['personPhone'],\n          userEmail: response['userEmail'],\n          userPassword: response['userPassword'],\n          personName: response['personName'],\n          personAge: response['personAge']\n        };\n        this.txtid.nativeElement.value = user.personid;\n        this.txtCedula.nativeElement.value = user.personCedula;\n        this.txtNombre.nativeElement.value = user.personName;\n        this.txtEdad.nativeElement.value = user.personAge;\n        this.txtTelefono.nativeElement.value = user.personPhone;\n        this.txtEmail.nativeElement.value = user.userEmail;\n        this.txtPassword.nativeElement.value = user.userPassword;\n      });\n    }\n    ActualizarUsuario() {\n      const cedula = this.txtCedula.nativeElement.value;\n      const nombre = this.txtNombre.nativeElement.value;\n      const edad = this.txtEdad.nativeElement.value;\n      const telefono = this.txtTelefono.nativeElement.value;\n      const email = this.txtEmail.nativeElement.value;\n      const password = this.txtPassword.nativeElement.value;\n      const id = this.txtid.nativeElement.value;\n      // person_personid: number,\n      // userEmail: string,\n      // userPassword: string\n      var user = {\n        personid: id,\n        personCedula: cedula,\n        personPhone: telefono,\n        userEmail: email,\n        userPassword: password,\n        personName: nombre,\n        personAge: edad\n      };\n      this._serviceUser.updateUser(user.personid, user.personCedula, user.personPhone, user.userEmail, user.userPassword, user.personName, user.personAge).subscribe(response => {\n        if (response != null && response != undefined) {\n          alert('perfil  actualizado con exito');\n        } else {\n          alert('ERROR');\n        }\n        location.reload();\n      });\n      this.txtCedula.nativeElement.value = \"\";\n      this.txtNombre.nativeElement.value = \"\";\n      this.txtEmail.nativeElement.value = \"\";\n      this.txtTelefono.nativeElement.value = \"\";\n      this.txtEmail.nativeElement.value = \"\";\n      this.txtPassword.nativeElement.value = \"\";\n    }\n    inicializar() {\n      if (localStorage.getItem(\"val\") == '0') {\n        localStorage.setItem(\"val\", \"-1\");\n        location.reload();\n      }\n    }\n    static #_ = this.ɵfac = function AdminUserComponent_Factory(t) {\n      return new (t || AdminUserComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminUserComponent,\n      selectors: [[\"app-admin-user\"]],\n      viewQuery: function AdminUserComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n          i0.ɵɵviewQuery(_c2, 5);\n          i0.ɵɵviewQuery(_c3, 5);\n          i0.ɵɵviewQuery(_c4, 5);\n          i0.ɵɵviewQuery(_c5, 5);\n          i0.ɵɵviewQuery(_c6, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtid = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtCedula = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtNombre = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtEdad = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtTelefono = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtEmail = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.txtPassword = _t.first);\n        }\n      },\n      decls: 36,\n      vars: 0,\n      consts: [[\"txtid\", \"\"], [\"txtCedula\", \"\"], [\"txtNombre\", \"\"], [\"txtEdad\", \"\"], [\"txtTelefono\", \"\"], [\"txtEmail\", \"\"], [\"txtPassword\", \"\"], [\"btnGuardar\", \"\"], [1, \"boxPrincipal\"], [1, \"p-3\", \"border\", \"bg-light\"], [1, \"display-6\"], [\"id\", \"registroUsuario\", 3, \"ngSubmit\"], [\"type\", \"number\", \"placeholder\", \"Id\", 1, \"form-control\", \"my-2\", 2, \"visibility\", \"hidden\"], [\"type\", \"text\", \"required\", \"\", 1, \"form-control\", \"my-2\"], [\"type\", \"number\", \"min\", \"0\", \"max\", \"120\", 1, \"form-control\", \"my-2\"], [\"type\", \"tel\", \"required\", \"\", 1, \"form-control\", \"my-2\"], [\"type\", \"email\", \"placeholder\", \"ejemplo@email.com\", \"required\", \"\", 1, \"form-control\", \"my-2\"], [\"type\", \"password\", \"required\", \"\", 1, \"form-control\", \"my-2\"], [1, \"d-grid\", \"gap-1\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mx-2\"]],\n      template: function AdminUserComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 8)(1, \"div\", 9)(2, \"h2\", 10);\n          i0.ɵɵtext(3, \" Actualizar Datos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 11);\n          i0.ɵɵlistener(\"ngSubmit\", function AdminUserComponent_Template_form_ngSubmit_4_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.ActualizarUsuario());\n          });\n          i0.ɵɵelement(5, \"input\", 12, 0);\n          i0.ɵɵelementStart(7, \"label\");\n          i0.ɵɵtext(8, \"Cedula\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(9, \"input\", 13, 1);\n          i0.ɵɵelementStart(11, \"label\");\n          i0.ɵɵtext(12, \"Nombre\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(13, \"input\", 13, 2);\n          i0.ɵɵelementStart(15, \"label\");\n          i0.ɵɵtext(16, \"Edad\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(17, \"input\", 14, 3);\n          i0.ɵɵelementStart(19, \"label\");\n          i0.ɵɵtext(20, \"Telefono\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(21, \"input\", 15, 4);\n          i0.ɵɵelementStart(23, \"label\");\n          i0.ɵɵtext(24, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(25, \"input\", 16, 5);\n          i0.ɵɵelementStart(27, \"label\");\n          i0.ɵɵtext(28, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(29, \"input\", 17, 6)(31, \"br\");\n          i0.ɵɵelementStart(32, \"div\", 18)(33, \"button\", 19, 7);\n          i0.ɵɵtext(35, \"Actualizar\");\n          i0.ɵɵelementEnd()()()()();\n        }\n      },\n      dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n      styles: [\".boxPrincipal[_ngcontent-%COMP%]{width:90%}\"]\n    });\n  }\n  return AdminUserComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}